# Making vrchat udon based language here :)

Language is similar to C#, but much more simple and less powerful.

Language lexer and parser are generated by Antlr4 using grammar files (.g4)

Work in progress (early stage)...

# How to install

put Unity3D (couple of dll's from unity editor), Udon (Udon SDK) and VRCSDK (VRCHAT SDK 3) folders
to ```ExternalDlls``` folder (navigate to ```ExternalDlls``` folder to see readme).

compiler can be run by running Tester project. It compiles ```test.doshik``` file from Tester project directory and prints out compiled assembly language listing

to install it to Unity3D:
1) build DoshikLangCompiler project
2) get Antlr4.Runtime.Standard.dll and DoshikLangCompiler.dll from DoshikLangCompiler bin folder and put them to ```DoshikLangUnityEditorCode\Assets\DoshikSDK\Editor\ExternalDlls```
3) copy ```DoshikLangUnityEditorCode\Assets\DoshikSDK``` folder to your unity3d project's assets folder. VRChat SDK3 and Udon SDK must be preinstalled in that folder
4) everything should work

vscode extension (.doshik files syntax coloring and language-server stuff (autocomplete, etc)):
1) go to ```/vscode-extensions/doshik``` and run ```npm install``` on it
2) build DoshikLanguageServer project and copy all files from ```\DoshikLanguageServer\bin\Debug\netcoreapp3.1``` to ```/vscode-extensions/doshik/server```
2) copy whole ```/vscode-extensions/doshik``` folder to ```%USERPROFILE%\.vscode\extensions```
3) language server must work on .doshik extension files in vscode now, but it may be required to install some sort of .net framework first

DoshikLangAntlr project doesn't need to be compiled until language syntax is changed (it's excluded from solution build). Project purpose is to keep language syntax files (.g4) and generate ```/DoshikLangCompiler/AntlrGenerated/**``` files which are get commited. Compilation from .g4 to generated files is done by use of AntlrVSIX visual studio 2019 extension